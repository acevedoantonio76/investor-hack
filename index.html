<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Panel de Evaluación de Inversionistas v2</title>
<link rel="manifest" href="./manifest.webmanifest">
<meta name="theme-color" content="#101112">
<link rel="stylesheet" href="./styles.css">
</head>
<body>
<header>
  <h1>🏦 Panel de Inversionistas · v2</h1>
  <div class="controls">
    <div class="view-toggle">
      <button id="cardsView" class="active">Tarjetas</button>
      <button id="tableView">Tabla</button>
    </div>
    <input id="q" type="search" placeholder="Buscar nombre, estilo o firma...">
    <select id="risk">
      <option value="">Riesgo (todos)</option>
      <option>Alto</option><option>Medio–alto</option><option>Medio</option><option>Bajo</option><option>—</option>
    </select>
    <select id="horizon">
      <option value="">Horizonte (todos)</option>
      <option>Corto</option><option>Mediano</option><option>Largo</option><option>Corto–mediano</option><option>Mediano–largo</option><option>—</option>
    </select>
    <button id="exportCsv">Exportar CSV</button>
    <button id="installBtn" hidden>Instalar</button>
  </div>
</header>

<main>
  <section id="cards" hidden></section>
  <section id="table" class="table-wrap" hidden></section>
</main>

<footer>PWA • Offline • Filtros + ordenamiento + exportación</footer>

<script type="module" src="./app.js"></script>
<script>
if ('serviceWorker' in navigator) navigator.serviceWorker.register('./sw.js');
let deferred;
window.addEventListener('beforeinstallprompt',(e)=>{e.preventDefault();deferred=e;document.getElementById('installBtn').hidden=false;});
document.getElementById('installBtn').addEventListener('click',async()=>{ if(!deferred) return; deferred.prompt(); await deferred.userChoice; deferred=null; document.getElementById('installBtn').hidden=true; });
</script>
</body>
</html>